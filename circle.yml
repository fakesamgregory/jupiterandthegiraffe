deployment:
  development:
    branchs:
      only:
        - master
        - dev
    docker:
      - image: fakesamgregory/jupiterandthegiraffe:{BuildNum}
      - image: fakesamgregory/jupiterandthegiraffe:latest
        auth:
          username: fakesamgregory  # can specify string literal values
          password: $DOCKERHUB_PASSWORD  # or project UI env-var reference
    steps:
      - test
      - run: 'console.log("run tests...")
    codedeploy:
      jupiterandthegiraffe:
        application_root: /
        region: us-west-1
        revision_location:
          revision_type: S3
          s3_location:
            bucket: jupiterandthegiraffe
            key_pattern: jupiterandthegiraffe-{BRANCH}-{SHORT_COMMIT}
