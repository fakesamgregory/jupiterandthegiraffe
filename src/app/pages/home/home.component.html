<section class="home">
  <div class="container-fluid">
    <h1 class="sr-only">Jupiter and the Giraffe</h1>

    <p class="home__tagline text-center" data-aos="fade-in">
      We'll help your company find its voice, establish its brand and build you a kick-ass website.
    </p>

    <section class="section text-center">
      <header>
        <h2>
          <span data-aos="fade-up" style="display: inline-block;" data-aos-delay="100">Your ambitions, <div></div>let loose</span>
        </h2>
      </header>

      <p class="home__lead">
        Taking your spark, refining it through design and bringing your audience along for the ride.
      </p>

      <div class="row" (appDeferLoad)="showMyElement=true">
        <section *ngFor="let service of services; let i = index;" class="col-sm-4 margin-bottom--lg text-left" data-aos="fade-up" [attr.data-aos-delay]="300 * i">
          <img
            *ngIf="showMyElement"
            [src]="service._embedded['wp:featuredmedia'][0].media_details.sizes.large.source_url"
            [srcset]="service._embedded['wp:featuredmedia'][0].media_details.sizes.large.source_url + ' 2x, ' + service._embedded['wp:featuredmedia'][0].media_details.sizes.medium.source_url + ' 1x'"
            [alt]="service._embedded['wp:featuredmedia'][0].alt_text"
          >

          <h3>{{service.title.rendered}}</h3>

          <div [innerHTML]="service.acf.intro_text"></div>

          <p>
            Learn more about <a [routerLink]="'/service/' + service.slug">{{service.title.rendered}}</a>.
          </p>
        </section>
      </div>

      <div class="text-center padding-top--lg padding-bottom--lg">
        <a href="" [routerLink]="['/what-we-do']" class="btn btn--lg btn--outline btn--dark">
          <span aria-hidden="true" class="vertical-align">üß† </span>What can we do?
        </a>
      </div>
    </section>
  </div>
</section>

<app-friends-component></app-friends-component>

<section class="home">
  <div class="container-fluid">
    <section class="text-center">
      <header>
        <h2>
          <span data-aos="fade-up" style="display: inline-block;" data-aos-delay="100">Creativity <div></div>without borders</span>
        </h2>
      </header>

      <p class="home__lead">
        We travel the world in search of adventurers bringing the cream of the crop talent that is bespoke to you.
      </p>
    </section>
  </div>

  <div *ngIf="developmentMode; else map" class="text-center">Map will not load in dev mode</div>

  <ng-template #map>
    <agm-map [zoom]="2" [latitude]="0" [longitude]="151.2092955" [mapDraggable]="false" [zoomControl]="false"
             [streetViewControl]="false" [styles]="styles">
      <agm-marker [latitude]="-33.8688197" [longitude]="151.2092955"></agm-marker>
      <agm-marker [latitude]="51.5074" [longitude]="0.1278" [opacity]=".7"></agm-marker>
    </agm-map>
  </ng-template>

  <div class="container-fluid">
    <div class="text-center padding-top--lg padding-bottom--lg">
      <a href="" [routerLink]="['/what-we-do']" class="btn btn--lg btn--outline btn--dark">
        <span aria-hidden="true" class="vertical-align">‚úâÔ∏è </span>Work with us
      </a>
    </div>

    <div class="section"></div>

    <section class="home__blog section margin-top--lrg">
      <header>
        <h2>Discover</h2>
      </header>
      <div *ngIf="blogStore.blogs$ | async">
        <p>Read our latest blogs.</p>

        <div class="row">
          <article *ngFor="let blog of blogStore.blogs$ | async" class="home__blog col-md">
            <header>
              <h3 class="home__blog-title">
                <a [href]="blog.blog.link" class="home__blog-title-link" [innerHTML]="blog.blog.title.rendered"></a>
              </h3>
            </header>

            <a [href]="blog.blog.link" class="home__blog-image-link">
              <span class="sr-only">{{blog.blog.title.rendered}}</span>

              <div (appDeferLoad)="showMyElement=true" *ngIf="blog.image">
                <div class="home__blog-image" *ngIf="showMyElement"
                     [ngStyle]="{'background-image': 'url(' + blog.image.source_url + ')'}">

                  <span
                    class="home__blog-tag"
                    [ngClass]="{
                      'home__blog-tag--development': blog.category.slug === 'brand-experience',
                      'home__blog-tag--design': blog.category.slug === 'brand-identity',
                      'home__blog-tag--business': blog.category.slug === 'business',
                      'home__blog-tag--strategy': blog.category.slug === 'brand-strategy'
                    }"
                    aria-hidden="false"
                  >
                    Category: {{blog.category.name}}
                  </span>
                </div>
              </div>
            </a>

            <div class="home__blog-info">
              <a [href]="blog.author.link"><img [src]="blog.author.avatar_urls['48']" alt=""
                                                class="home__blog-icon"></a>
              By <a [href]="blog.author.link"><strong>{{blog.author.name}}</strong></a> on <strong>{{blog.date[2]}}.{{blog.date[1]}}.{{blog.date[0]}}</strong>
            </div>

            <div [innerHTML]="blog.blog.excerpt.rendered"></div>
          </article>
        </div>

        <div class="text-center padding-top--lg padding-bottom--lg">
          <a href="https://blog.jupiterandthegiraffe.com" class="btn btn--lg btn--outline btn--dark">
            <span aria-hidden="true" class="vertical-align">üìïÔ∏èÔ∏è </span>Read more on our blog
          </a>
        </div>

      </div>
      <p *ngIf="error">There was an error fetching the blogs...</p>
      <p *ngIf="!blogStore.blogs$ && !error">Loading blogs
        <app-dots-component></app-dots-component>
      </p>
    </section>

    <section class="section text-center">
      <header>
        <h2>Ready to launch?</h2>
      </header>

      <p class="home__lead">
        Enough talking, let's get right to it.
      </p>

      <div class="section text-center">
        <a [routerLink]="['/contact']" class="btn btn--lg btn--outline btn--dark"><span aria-hidden="true"
                                                                                        class="vertical-align">üöÄ </span>Let's
          go!</a>
      </div>
    </section>

  </div>

</section>

