<section class="section section--break friends text-center">
  <div class="container-fluid" (appDeferLoad)="showMyElement=true">
    <header>
      <h2>Clients</h2>
    </header>

    <div #slider class="slider" aria-live="polite" *ngIf="quotes.length">
      <blockquote class="slide" #slide *ngFor="let quote of quotes; let i = index" [ngClass]="{'slide--visible': (i + 1) === currentActiveSlide}">
        <div [innerHTML]="quote.content.rendered"></div>
        <footer [innerHTML]="quote.title.rendered"></footer>
      </blockquote>
    </div>

    <ul class="row list-unstyled friends__list">
      <li class="col-sm-4 col-4 friends__list-item" *ngFor="let friend of friends">
        <a [routerLink]="'/case-study/' + friend.slug" class="friends__link" *ngIf="friend.content.rendered; else noLink;">
          <img
            *ngIf="showMyElement && friend.acf.logo"
            class="img-fluid friends__image"
            [src]="friend.acf.logo.url"
            [attr.alt]="friend.title.rendered">
        </a>
        <ng-template #noLink>
        <span class="friends__link">
          <img
            *ngIf="showMyElement"
            class="img-fluid friends__image"
            [src]="friend._embedded['wp:featuredmedia'][0].source_url"
            [attr.alt]="friend.title.rendered">
        </span>
        </ng-template>
      </li>
    </ul>

    <a href="" [routerLink]="['/work']" class="btn btn--lg btn--outline btn--light">
      <span aria-hidden="true" class="vertical-align">ðŸ’» </span>See the work
    </a>
  </div>
</section>
