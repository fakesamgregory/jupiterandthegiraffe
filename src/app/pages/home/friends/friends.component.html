<section class="section section--break friends text-center">
  <div class="container-fluid">
    <header>
      <h2 class="text-center">Clients</h2>
    </header>

    <div #slider class="slider" aria-live="polite" *ngIf="quotes">
      <blockquote class="slide" #slide *ngFor="let quote of quotes; let i = index" [ngClass]="{'slide--visible': (i + 1) === currentActiveSlide}">
        <div [innerHTML]="quote.content.rendered"></div>
        <footer [innerHTML]="quote.title.rendered"></footer>
      </blockquote>
    </div>

    <ul class="row list-unstyled friends__list">
      <li class="col-sm-4 col-4 friends__list-item" *ngFor="let friend of highlightedFriendStore.friends$ | async; let i = index;">
        <a
          [routerLink]="'/case-study/' + friend.slug"
          class="friends__link"
          *ngIf="friend.type !== 'image'; else noLink;"
          data-aos="fade-up"
          [attr.data-aos-delay]="100 * i"
          [title]="'View ' + friend.title.rendered + ' case study'"
        >
          <img
            *ngIf="friend.acf.logo"
            class="img-fluid friends__image"
            [src]="friend.acf.logo.sizes.medium"
            srcset="{{friend.acf.logo.sizes.medium}} 1x, {{friend.acf.logo.sizes.large}} 2x"
            alt=""
          >
        </a>
        <ng-template #noLink>
        <span
          class="friends__link"
          data-aos="fade-up"
          [attr.data-aos-delay]="100 * i"
        >
          <img
            *ngIf="friend.filename"
            class="img-fluid friends__image"
            [src]="friend.sizes.medium"
            srcset="{{friend.sizes.medium}} 1x, {{friend.sizes.fullsize}} 2x"
            [attr.alt]="friend.alt"
          >
        </span>
        </ng-template>
      </li>
    </ul>

    <div class="text-center">
      <a [routerLink]="['/work']" class="btn btn--lg btn--outline btn--light">
        See the work
      </a>
    </div>
  </div>
</section>
